var Wave=function(){"use strict";function t(t){var i=t;if(/^(rgb|RGB)/.test(i)){for(var s=i.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),e="#",o=0;o<s.length;o++){var n=Number(s[o]).toString(16);n.length<2&&(n="0"+n),e+=n}return 7!==e.length&&(e=i),e}if(/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(i)){var h=i.replace(/#/,"").split("");if(6===h.length)return i;if(3===h.length){var r="#";for(o=0;o<h.length;o+=1)r+=h[o]+h[o];return r}}return i}function i(t,i){var s=t.toLowerCase();if(s&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(s)){if(4===s.length){for(var e="#",o=1;o<4;o+=1)e+=s.slice(o,o+1).concat(s.slice(o,o+1));s=e}var n=[];for(o=1;o<7;o+=2)n.push(parseInt("0x"+s.slice(o,o+2)));return"rgba("+n.join(",")+","+i+")"}return s}return function(){function s(t,i){this.container=document.querySelector(t),this.options=Object.assign({number:1,smooth:38,velocity:1,height:.3,colors:["#000"],border:{show:!1,width:2,color:[""]},position:"bottom"},i),this.lines=[],this.frame=null,this.step=0,this.status="pause",this.init(),this.draw()}return s.prototype.init=function(){if(null===this.container.querySelector("canvas")){var t=document.createElement("canvas"),i="canvasWaveJs";t.setAttribute("id",i),this.container.appendChild(t)}this.canvas=this.container.querySelector("canvas"),this.canvas.width=this.container.offsetWidth,this.canvas.height=this.container.offsetHeight,this.ctx=this.canvas.getContext("2d"),this.setLines();var s=document.getElementById(i),e=s.parentNode.offsetWidth;window.onresize=function(){var t=s.parentNode.offsetWidth;t>e&&(s.width=t)}},s.prototype.animate=function(){this.status="animating",this.draw()},s.prototype.pause=function(){cancelAnimationFrame(this.frame),this.frame=null,this.status="pause"},s.prototype.setOptions=function(t){this.options=Object.assign(this.options,t),this.setLines(),this.reset(),"pause"===this.status&&this.draw()},s.prototype.reset=function(){this.init()},s.prototype.draw=function(){var t=this,i=this.canvas,s=this.ctx,e=this.getWaveHeight();s.clearRect(0,0,i.width,i.height),this.step+=this.options.velocity,this.lines.forEach(function(o,n){var h=(t.step+180*n/t.lines.length)*Math.PI/180,r=Math.sin(h)*t.options.smooth,a=Math.cos(h)*t.options.smooth,c=t.getVertexs(r,a);s.fillStyle=o.rgba,s.beginPath(),s.moveTo(c[0][0],c[0][1]),t.options.border.show&&(s.lineWidth=t.options.border.width,s.strokeStyle=t.options.border.color[n]?t.options.border.color[n]:o.hex),"left"===t.options.position||"right"===t.options.position?s.bezierCurveTo(e+r-t.options.smooth,i.height/2,e+a-t.options.smooth,i.width/2,c[1][0],c[1][1]):s.bezierCurveTo(i.width/2,e+r-t.options.smooth,i.width/2,e+a-t.options.smooth,c[1][0],c[1][1]),t.options.border.show&&s.stroke(),s.lineTo(c[2][0],c[2][1]),s.lineTo(c[3][0],c[3][1]),s.lineTo(c[0][0],c[0][1]),s.closePath(),s.fill()});var o=this;"animating"===this.status&&(this.frame=requestAnimationFrame(function(){o.draw()}))},s.prototype.setLines=function(){this.lines=[];for(var s=0;s<this.options.number;s++){var e=this.options.colors[s%this.options.colors.length],o={hex:t(e),rgba:i(e,this.options.opacity)};this.lines.push(o)}},s.prototype.getVertexs=function(t,i){var s=this.canvas.height,e=this.canvas.width,o=this.getWaveHeight();switch(this.options.position){case"bottom":return[[0,o+t],[e,o+i],[e,s],[0,s]];case"top":return[[0,o+t],[e,o+i],[e,0],[0,0]];case"left":return[[o+t,0],[o+i,s],[0,s],[0,0]];case"right":return[[o+t,0],[o+i,s],[e,s],[e,0]]}},s.prototype.getWaveHeight=function(){if(this.options.height>1)switch(this.options.position){case"bottom":return this.canvas.height-this.options.height;case"top":case"left":return this.options.height;case"right":return this.canvas.width-this.options.height}else switch(this.options.position){case"bottom":return this.canvas.height*(1-this.options.height);case"top":return this.canvas.height*this.options.height;case"left":return this.canvas.width*this.options.height;case"right":return this.canvas.width*(1-this.options.height)}},s}()}();